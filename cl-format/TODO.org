#+STARTUP: content
#+TODO: NEXT(n) TODO(t) PROCESSING(p) WAITING(w) MAYBE(m) | DONE(d@) CANCELLED(c)

* Doc
+ [[https://gigamonkeys.com/book/a-few-format-recipes.html][A Few FORMAT Recipes]]
+ [[http://www.lispworks.com/documentation/lw50/CLHS/Body/22_c.htm][Formatted Output]]

* Features need to do
** TODO Tilde parsers
- [X] \~n~ [[http://www.lispworks.com/documentation/lw50/CLHS/Body/22_cae.htm][tilde]]
- [X] char
- [X] [[http://www.lispworks.com/documentation/lw50/CLHS/Body/22_cba.htm][R: Radix]]
- [ ] [[http://www.lispworks.com/documentation/lw50/CLHS/Body/22_cbc.htm][B: Binary]]
- [ ] [[http://www.lispworks.com/documentation/lw50/CLHS/Body/22_cbd.htm][O: Octal]]
- [ ] [[http://www.lispworks.com/documentation/lw50/CLHS/Body/22_cbe.htm][X: Hexadecimal]]
- [ ] [[http://www.lispworks.com/documentation/lw50/CLHS/Body/22_cca.htm][F: Fixed-Format Floating-Point]]
- [ ] [[http://www.lispworks.com/documentation/lw50/CLHS/Body/22_ccd.htm][Dollarsign: Monetary Floating-Point]]
- [X] [[http://www.lispworks.com/documentation/lw50/CLHS/Body/22_cdb.htm][S: Standard]]
  
** DONE macro for usage
CLOSED: [2023-04-02 Sun 14:41]
:LOGBOOK:
- State "DONE"       from "PROCESSING" [2023-04-02 Sun 14:41]
:END:
like ~cl_format!~

** DONE view layer
CLOSED: [2023-03-18 Sat 23:03]
:LOGBOOK:
- State "DONE"       from "TODO"       [2023-03-18 Sat 23:03] \\
  reveal functions done the reveal job
:END:
after parse, the tilde need a view layer.

** DONE Optimize
CLOSED: [2023-08-23 Wed 17:14]
:LOGBOOK:
- State "DONE"       from "PROCESSING" [2023-08-23 Wed 17:14]
:END:

*** DONE Change the box error to error type
CLOSED: [2023-05-02 Tue 18:29]
:LOGBOOK:
- State "DONE"       from              [2023-05-02 Tue 18:29]
:END:

*** DONE ~control_str::reveal~ need to accept borrow args
CLOSED: [2023-08-23 Wed 17:13]
:LOGBOOK:
- State "DONE"       from "NEXT"       [2023-08-23 Wed 17:13]
:END:
and also need to return error directly
good for benchmark test

*** DONE ~match_reveal~ need return Option type or not?
CLOSED: [2023-08-23 Wed 17:13]
:LOGBOOK:
- State "DONE"       from "NEXT"       [2023-08-23 Wed 17:13]
:END:
I can just call the format? Like ~<a as TildeKindVa>::format()~?

* Bugs

** NEXT char inside Radix need to escape
- [ ] like ~cl_format!("this is binary: ~2,,,\,,3:R", &8)~ need get the ','.
- [X] and the ~cl_format!("~~2,,,a,4:R", &20)~ shouldn't be the ~a in parser
  fix with the \\ escape char in control string
